[{"/Users/annameredithc/Desktop/seir-flex-zen-work/Projects/project-4/coupon_clips_client/src/reportWebVitals.js":"1","/Users/annameredithc/Desktop/seir-flex-zen-work/Projects/project-4/coupon_clips_client/src/components/BarChart.js":"2","/Users/annameredithc/Desktop/seir-flex-zen-work/Projects/project-4/coupon_clips_client/src/App.js":"3","/Users/annameredithc/Desktop/seir-flex-zen-work/Projects/project-4/coupon_clips_client/src/index.js":"4"},{"size":362,"mtime":1607651412622,"results":"5","hashOfConfig":"6"},{"size":1774,"mtime":1607808891795,"results":"7","hashOfConfig":"6"},{"size":4241,"mtime":1607810192177,"results":"8","hashOfConfig":"6"},{"size":500,"mtime":1607651412621,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"xqobut",{"filePath":"12","messages":"13","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/annameredithc/Desktop/seir-flex-zen-work/Projects/project-4/coupon_clips_client/src/reportWebVitals.js",[],"/Users/annameredithc/Desktop/seir-flex-zen-work/Projects/project-4/coupon_clips_client/src/components/BarChart.js",["20","21"],"import React from \"react\";\nimport Chart from \"chart.js\";\n\nconst BarChart = (props) => {\n    const prepareData = (data) => {\n        console.log(\"anna\", data)\n        //Empty Chart Data Object\n        const chartData = {\n            labels: [],\n            datasets: [\n                {\n                    label: \"Original Costs\",\n                    data: [],\n                },\n                {\n                    label: \"Savings\",\n                    data: [],\n                },\n            ],\n        };\n        //Loop over API data to populate chart data\n        data.forEach((saving) => {\n            chartData.labels.push(saving.month);\n            chartData.datasets[0].data.push(saving.original_cost);\n        });\n        data.forEach((saving) => {\n            chartData.datasets[1].data.push(saving.savings_cost);\n        });\n        return chartData;\n    };\n\n    const createChart = (data) => {\n        //similar $(\"#savings\")\n        const ctx = document.querySelector(\"#savings\");\n        const savingsChart = new Chart(ctx, {\n            type: \"bar\",\n            data: data,\n        });\n    };\n\n    const getSavings = async () => {\n        //run this function when content loads on page\n        const response = await fetch(\"https://couponclips-backend.herokuapp.com/vendors/1/savings\");\n        const data = await response.json();\n        console.log(data);\n        const chartData = await prepareData(data);\n        console.log(chartData);\n        createChart(chartData);\n    };\n\n    //prevent page from reloading each time\n    React.useEffect(() => {\n        getSavings();\n    }, []);\n    return (\n        <>\n            <h1>Savings</h1>\n            <canvas id=\"savings\" width=\"300\" height=\"100\"></canvas>\n        </>\n    );\n};\n\nexport default BarChart;\n","/Users/annameredithc/Desktop/seir-flex-zen-work/Projects/project-4/coupon_clips_client/src/App.js",["22","23"],"import logo from \"./logo.svg\";\nimport React from \"react\";\nimport \"./App.css\";\nimport BarChart from \"./components/BarChart\";\n\nfunction App(props) {\n  //State to hold our savings\n  const [savings, setSavings] = React.useState([]);\n  //State to hold formData\n  const [createForm, setCreateForm] = React.useState({\n    original_cost: \"\",\n    discount: \"\",\n    savings_cost: \"\",\n    month: \"\",\n    vendor_id: 1,\n  });\n  // Function to make api call to get savings\n  const getSavings = async () => {\n    const response = await fetch(\n      \"https://couponclips-backend.herokuapp.com/vendors/\" +\n        createForm.vendor_id +\n        \"/savings\"\n    );\n    console.log(response);\n    const data = await response.json();\n    setSavings(data);\n  };\n  // this is going to run the getsavings function which pulls from your api when the component loads\n  React.useEffect(() => {\n    getSavings();\n  }, []);\n\n  const loaded = () => (\n    <>\n      {savings.map((saving) => {\n        return (\n          <div key={saving.id}>\n            <h4>Original Cost: ${saving.original_cost}</h4>\n            <h4>Discount Amount: {saving.discount}</h4>\n            <h4>Savings Cost: ${saving.savings_cost}</h4>\n            <h4>Month: {saving.month}</h4>\n            <h4>Vendor ID (1-5): {saving.vendor_id}</h4>\n\n            <button\n              onClick={async () => {\n                await fetch(\n                  \"https://couponclips-backend.herokuapp.com/vendors/\" +\n                    createForm.vendor_id +\n                    \"/savings/\" +\n                    savings.id,\n                  {\n                    method: \"delete\",\n                  }\n                );\n                getSavings();\n              }}\n            >\n              Delete\n            </button>\n          </div>\n        );\n      })}\n    </>\n  );\n\n  //our handleChange for our create form\n  const createChange = (event) => {\n    setCreateForm({ ...createForm, [event.target.name]: event.target.value });\n  };\n\n  //our handle create function for when the form is submitted\n  const handleCreate = async (event) => {\n    event.preventDefault(); //prevent page refresh\n\n    await fetch(\n      \"https://couponclips-backend.herokuapp.com/vendors/\" +\n        createForm.vendor_id +\n        \"/savings\",\n      {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(createForm),\n      }\n    );\n    getSavings();\n    setCreateForm({\n      original_cost: \"\",\n      discount: \"\",\n      savings_cost: \"\",\n      month: \"\",\n      vendor_id: 1,\n    });\n  };\n  return (\n    <div className=\"App\">\n      <BarChart />\n      <h1>Create Coupon Savings</h1>\n      <form onSubmit={handleCreate}>\n        Original Cost: $\n        <input\n          type=\"text\"\n          name=\"original_cost\"\n          placeholder=\"XX.XX\"\n          value={createForm.original_cost}\n          onChange={createChange}\n        />\n        <br />\n        Discount Amount: $\n        <input\n          type=\"text\"\n          name=\"discount\"\n          placeholder=\"XX.XX\"\n          value={createForm.discount}\n          onChange={createChange}\n        />\n        <br />\n        Savings Cost: $\n        <input\n          type=\"text\"\n          name=\"savings_cost\"\n          placeholder=\"XX.XX\"\n          value={createForm.savings_cost}\n          onChange={createChange}\n        />\n        <br />\n        Month:{\" \"}\n        <input\n          type=\"text\"\n          name=\"month\"\n          placeholder=\"month\"\n          value={createForm.month}\n          onChange={createChange}\n        />\n        <br />\n        Vendor ID:{\" \"}\n        <input\n          type=\"text\"\n          name=\"vendor_id\"\n          placeholder=\"Vendor ID #\"\n          value={createForm.vendor_id}\n          onChange={createChange}\n        />\n        <br />\n        <i>See Vendor List below</i>\n        <br />\n        (1= Home Depot) <br />\n        (2= Bed Bath and Beyond) <br />\n        (3= Guitar Center) <br />\n        (4= Tory Burch) <br />\n        (5= Walgreens) <br />\n        <br />\n        <input type=\"submit\" value=\"Create Savings\" />\n      </form>\n      <h1>List of Savings</h1>\n      {savings.length > 0 ? loaded() : <h2>There are no savings</h2>}\n    </div>\n  );\n}\nexport default App;\n","/Users/annameredithc/Desktop/seir-flex-zen-work/Projects/project-4/coupon_clips_client/src/index.js",[],{"ruleId":"24","severity":1,"message":"25","line":35,"column":15,"nodeType":"26","messageId":"27","endLine":35,"endColumn":27},{"ruleId":"28","severity":1,"message":"29","line":54,"column":8,"nodeType":"30","endLine":54,"endColumn":10,"suggestions":"31"},{"ruleId":"24","severity":1,"message":"32","line":1,"column":8,"nodeType":"26","messageId":"27","endLine":1,"endColumn":12},{"ruleId":"28","severity":1,"message":"29","line":31,"column":6,"nodeType":"30","endLine":31,"endColumn":8,"suggestions":"33"},"no-unused-vars","'savingsChart' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'getSavings'. Either include it or remove the dependency array.","ArrayExpression",["34"],"'logo' is defined but never used.",["35"],{"desc":"36","fix":"37"},{"desc":"36","fix":"38"},"Update the dependencies array to be: [getSavings]",{"range":"39","text":"40"},{"range":"41","text":"40"},[1600,1602],"[getSavings]",[890,892]]